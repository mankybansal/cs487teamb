var classes = [
    {
      "subject": "COM",
      "course": 421,
      "sections": [
        {
          "CRN": 21008,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              3
            ],
            "Tuesday": [],
            "Wednesday": [
              3
            ],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Andrew J Roback"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 115,
      "sections": [
        {
          "CRN": 20024,
          "section": "01",
          "location": "MC",
          "credits": 2,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              1
            ],
            "Tuesday": [],
            "Wednesday": [
              1
            ],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": 23963,
          "professor": "Jon Hanrath"
        },
        {
          "CRN": 23963,
          "section": "L01",
          "location": "MC",
          "credits": 0,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [],
            "Wednesday": [],
            "Thursday": [],
            "Friday": [
              1
            ],
            "Saturday": []
          },
          "classType": "shortened",
          "requires": 20024,
          "professor": "Jon Hanrath"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 116,
      "sections": [
        {
          "CRN": 29929,
          "section": "03",
          "location": "MC",
          "credits": 2,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              5
            ],
            "Tuesday": [],
            "Wednesday": [],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": 29930,
          "professor": "John Korah"
        },
        {
          "CRN": 29930,
          "section": "L05",
          "location": "MC",
          "credits": 0,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              6
            ],
            "Tuesday": [],
            "Wednesday": [],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": 29929,
          "professor": "John Korah"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 330,
      "sections": [
        {
          "CRN": 20030,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [
              1
            ],
            "Wednesday": [],
            "Thursday": [
              1
            ],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": 28856,
          "professor": "Rajkumar Venka Pandiyampalayam"
        },
        {
          "CRN": 28856,
          "section": "R01",
          "location": "MC",
          "credits": 0,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [],
            "Wednesday": [
              1
            ],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "shortened",
          "requires": 20030,
          "professor": "Rajkumar Venka Pandiyampalayam"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 331,
      "sections": [
        {
          "CRN": 20031,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              2
            ],
            "Tuesday": [],
            "Wednesday": [
              2
            ],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": 24121,
          "professor": "Matthew J Bauer"
        },
        {
          "CRN": 28165,
          "section": "02",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [],
            "Wednesday": [
              3
            ],
            "Thursday": [],
            "Friday": [
              3
            ],
            "Saturday": []
          },
          "classType": "normal",
          "requires": 29605,
          "professor": "Michael Kamol Saelee"
        },
        {
          "CRN": 24121,
          "section": "L01",
          "location": "MC",
          "credits": 0,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [],
            "Wednesday": [],
            "Thursday": [],
            "Friday": [
              2
            ],
            "Saturday": []
          },
          "classType": "shortened",
          "requires": 20031,
          "professor": "Matthew J Bauer"
        },
        {
          "CRN": 29605,
          "section": "L03",
          "location": "MC",
          "credits": 0,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              3
            ],
            "Tuesday": [],
            "Wednesday": [],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "shortened",
          "requires": 28165,
          "professor": "Michael Kamol Saelee"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 350,
      "sections": [
        {
          "CRN": 20033,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              4
            ],
            "Tuesday": [],
            "Wednesday": [
              4
            ],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": 22642,
          "professor": "Kyle C Hale"
        },
        {
          "CRN": 22642,
          "section": "L01",
          "location": "MC",
          "credits": 0,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [],
            "Wednesday": [],
            "Thursday": [],
            "Friday": [
              4
            ],
            "Saturday": []
          },
          "classType": "shortened",
          "requires": 20033,
          "professor": "Kyle C Hale"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 351,
      "sections": [
        {
          "CRN": 20034,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [],
            "Wednesday": [
              4
            ],
            "Thursday": [],
            "Friday": [
              4
            ],
            "Saturday": []
          },
          "classType": "normal",
          "requires": 23001,
          "professor": "Michael Kamol Saelee"
        },
        {
          "CRN": 23001,
          "section": "L01",
          "location": "MC",
          "credits": 0,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              1
            ],
            "Tuesday": [],
            "Wednesday": [],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "shortened",
          "requires": 20034,
          "professor": "Michael Kamol Saelee"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 422,
      "sections": [
        {
          "CRN": 28859,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [
              6,
              7
            ],
            "Wednesday": [],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Vijay Kumar Gurbani"
        },
        {
          "CRN": 28860,
          "section": "02",
          "location": "IN",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [
              6,
              7
            ],
            "Wednesday": [],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Vijay Kumar Gurbani"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 425,
      "sections": [
        {
          "CRN": 20044,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [],
            "Wednesday": [],
            "Thursday": [
              6,
              7
            ],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Omar Aldawud"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 429,
      "sections": [
        {
          "CRN": 24124,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [
              5,
              6
            ],
            "Wednesday": [],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "John Korah"
        },
        {
          "CRN": 24126,
          "section": "02",
          "location": "IN",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [
              5,
              6
            ],
            "Wednesday": [],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "John Korah"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 430,
      "sections": [
        {
          "CRN": 20047,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              2
            ],
            "Tuesday": [],
            "Wednesday": [
              2
            ],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": 28173,
          "professor": "Edward M Reingold"
        },
        {
          "CRN": 28173,
          "section": "R01",
          "location": "MC",
          "credits": 0,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [],
            "Wednesday": [],
            "Thursday": [],
            "Friday": [
              2
            ],
            "Saturday": []
          },
          "classType": "shortened",
          "requires": 20047,
          "professor": "Edward M Reingold"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 485,
      "sections": [
        {
          "CRN": 20068,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              0
            ],
            "Tuesday": [],
            "Wednesday": [
              0
            ],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Jon Hanrath"
        },
        {
          "CRN": 28868,
          "section": "02",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              2
            ],
            "Tuesday": [],
            "Wednesday": [
              2
            ],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Jon Hanrath"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 440,
      "sections": [
        {
          "CRN": 28862,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              3
            ],
            "Tuesday": [],
            "Wednesday": [
              3
            ],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "James T Sasaki"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 450,
      "sections": [
        {
          "CRN": 20059,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              1
            ],
            "Tuesday": [],
            "Wednesday": [
              1
            ],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Wu-Hon Francis Leung"
        },
        {
          "CRN": 20061,
          "section": "02",
          "location": "IN",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              1
            ],
            "Tuesday": [],
            "Wednesday": [
              1
            ],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Wu-Hon Francis Leung"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 487,
      "sections": [
        {
          "CRN": 20069,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [
              1
            ],
            "Wednesday": [],
            "Thursday": [
              1
            ],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Dennis J Hood"
        },
        {
          "CRN": 28869,
          "section": "02",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [
              3
            ],
            "Wednesday": [],
            "Thursday": [
              3
            ],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Dennis J Hood"
        },
        {
          "CRN": 20071,
          "section": "03",
          "location": "IN",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [
              3
            ],
            "Wednesday": [],
            "Thursday": [
              3
            ],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Dennis J Hood"
        }
      ]
    },
    {
      "subject": "CS",
      "course": 513,
      "sections": [
        {
          "CRN": 27388,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [],
            "Wednesday": [],
            "Thursday": [],
            "Friday": [
              6,
              7
            ],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Xin Chen"
        }
      ]
    },
    {
      "subject": "HIST",
      "course": 340,
      "sections": [
        {
          "CRN": 25560,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              0
            ],
            "Tuesday": [],
            "Wednesday": [
              0
            ],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Val Jason Martin"
        }
      ]
    },
    {
      "subject": "MATH",
      "course": 251,
      "sections": [
        {
          "CRN": 20164,
          "section": "02",
          "location": "MC",
          "credits": 4,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              3
            ],
            "Tuesday": [],
            "Wednesday": [
              3
            ],
            "Thursday": [],
            "Friday": [
              3
            ],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Jesus Miranda"
        }
      ]
    },
    {
      "subject": "PSYC",
      "course": 301,
      "sections": [
        {
          "CRN": 20953,
          "section": "01",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              2
            ],
            "Tuesday": [],
            "Wednesday": [
              2
            ],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Mahima Saxena"
        },
        {
          "CRN": 20954,
          "section": "02",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [
              4
            ],
            "Tuesday": [],
            "Wednesday": [
              4
            ],
            "Thursday": [],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Mahima Saxena"
        },
        {
          "CRN": 28221,
          "section": "04",
          "location": "MC",
          "credits": 3,
          "timeSlots": {
            "Sunday": [],
            "Monday": [],
            "Tuesday": [
              4
            ],
            "Wednesday": [],
            "Thursday": [
              4
            ],
            "Friday": [],
            "Saturday": []
          },
          "classType": "normal",
          "requires": null,
          "professor": "Kristina Bauer"
        }
      ]
    }
  ];
var professors = [
    {
      "professor": "Wu-Hon Francis Leung",
      "rating": 2.6,
      "difficulty": 3.4
    },
    {
      "professor": "James T Sasaki",
      "rating": 2.8,
      "difficulty": 3.1
    },
    {
      "professor": "Jesus Miranda",
      "rating": 3.8,
      "difficulty": 2.1
    },
    {
      "professor": "Mahima Saxena",
      "rating": 3.4,
      "difficulty": 2.6
    },
    {
      "professor": "Kristina Bauer",
      "rating": 3.7,
      "difficulty": 3.5
    },
    {
      "professor": "Andrew J Roback",
      "rating": 4.0,
      "difficulty": 2.0
    },
    {
      "professor": "Dennis J Hood",
      "rating": 2.4,
      "difficulty": 3.3
    },
    {
      "professor": "Jon Hanrath",
      "rating": 4.6,
      "difficulty": 2.0
    },
    {
      "professor": "John Korah",
      "rating": 3.0,
      "difficulty": 3.0
    },
    {
      "professor": "Rajkumar Venka Pandiyampalayam",
      "rating": 2.5,
      "difficulty": 2.5
    },
    {
      "professor": "Matthew J Bauer",
      "rating": 4.0,
      "difficulty": 2.7
    },
    {
      "professor": "Michael Kamol Saelee",
      "rating": 4.3,
      "difficulty": 3.2
    },
    {
      "professor": "Kyle C Hale",
      "rating": 5.0,
      "difficulty": 4.2
    },
    {
      "professor": "Omar Aldawud",
      "rating": 2.4,
      "difficulty": 2.5
    },
    {
      "professor": "Edward M Reingold",
      "rating": 3.0,
      "difficulty": 4.4
    },
    {
      "professor": "Vijay K Gurbani",
      "rating": 4.5,
      "difficulty": 2.7
    },
    {
      "professor": "Xin Chen",
      "rating": 5.0,
      "difficulty": 1.5
    }
  ];
var params = {
    credits: 6,
    difficulty: 0,
    optimize: [true, false, false, true, true],
    times: [true, true, false, false, false]};
var requiredClasses = [
    classes[0], classes[6], classes[8]
]
var optionalClasses = [
    classes[7], classes[18], classes[17], classes[16], classes[10]
]

function generateSchedule(requiredClasses, optionalClasses, params) {
    var credits = 0;
    var finalSchedule = {
        name: null,
        savedTime: null,
        creditHours: null,
        Sunday: [],
        Monday: [],
        Tuesday: [],
        Wednesday: [],
        Thursday: [],
        Friday: [],
        Saturday: []
    };
    var classList = [];
    console.log(requiredClasses);
    console.log(optionalClasses);
    classList = addClasses(requiredClasses, classList, params);
    classList = addClasses(optionalClasses, classList, params);
}

function addClasses(classes, currentClasses) {
    var chosenClasses = currentClasses.slice();
    sortClasses(chosenClasses, params)
    for (var i = 0; i < classes.length; i++) {
        if  (classes[i]['sections'].length === 1) {
            if (chosenClasses.length == 0) {
                chosenClasses.push({
                    subject: classes[i]['subject'],
                    course: classes[i]['course'],
                    section: classes[i]['sections'][0]
                });
            }
            else {
                 if (checkTimeConflict(classes[i]['sections'][0], chosenClasses)) {
                    chosenClasses.push({
                        subject:classes[i]['subject'],
                        course:  classes[i]['course'],
                        section: classes[i]['sections'][0]
                    });    
                 } 
            }
        }
        else if (classes[i]['sections'].length == 2 && classes[i]['sections'][0]['requires'] != null) {
            if (chosenClasses.length == 0) {
                chosenClasses.push({
                    subject: classes[i]['subject'],
                    course: classes[i]['course'],
                    section: classes[i]['sections'][0]
                },
                {
                    subject: classes[i]['subject'],
                    course: classes[i]['course'],
                    section: classes[i]['sections'][1]
                });
            }
            else {
                if (checkTimeConflict(classes[i]['sections'][0], chosenClasses) && checkTimeConflict(classes[i]['sections'][1], chosenClasses)) {
                    chosenClasses.push({
                        subject: classes[i]['subject'],
                        course: classes[i]['course'],
                        section: classes[i]['sections'][0]
                    },
                    {
                        subject: classes[i]['subject'],
                        course: classes[i]['course'],
                        section: classes[i]['sections'][1]
                    });
    
                }
            }
        }
        else {
            chooseSection(classes[i]['sections']);
        }
    }
    return chosenClasses;
}

function chooseSection(sections) {
    console.log('multi', sections);
    // for (var i = 0; i < sections.length; i++) {
    //     console.log(sections[i]);
    // }
}

function checkTimeConflict(currentSection, chosenClasses) {
    for (var i = 0; i < chosenClasses.length; i++) {
        var chosenClassTimes = chosenClasses[i]['section']['timeSlots'];
        var currentSectionTimes = currentSection['timeSlots'];
        if (compareTimes(currentSectionTimes['Sunday'], chosenClassTimes['Sunday'])) {
            return false;
        }
        if (compareTimes(currentSectionTimes['Monday'], chosenClassTimes['Monday'])) {
            return false;
        }
        if (compareTimes(currentSectionTimes['Tuesday'], chosenClassTimes['Tuesday'])) {
            return false;
        }
        if (compareTimes(currentSectionTimes['Wednesday'], chosenClassTimes['Wednesday'])) {
            return false;
        }
        if (compareTimes(currentSectionTimes['Thursday'], chosenClassTimes['Thursday'])) {
            return false;
        }
        if (compareTimes(currentSectionTimes['Friday'], chosenClassTimes['Friday'])) {
            return false;
        }
        if (compareTimes(currentSectionTimes['Saturday'], chosenClassTimes['Saturday'])) {
            return false;
        }
        return true;
    }

}

function compareTimes(current, chosen) {
    if (current.length > 0 && chosen.length > 0) {
        var i = current.length;
        if (i != chosen.length) return false;
        while (i--) {
            if (current[i] !== chosen[i]) return false;
        }
        return true;
    }
    return false;
}

function sortClasses(chosenClasses, params) {
    console.log("here we will include priorities");
}

var generatedSchedule = generateSchedule(requiredClasses, optionalClasses, params);